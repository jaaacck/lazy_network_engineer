{% extends "pm/base.html" %}

{% block content %}
<div class="breadcrumb">
    <a href="{% url 'project_list' %}">projects</a> &gt;
    <a href="{% url 'notes_list' %}">notes</a> &gt;
    new note
</div>

<div class="page-title">New Note</div>

<div class="section">
    <form method="post">
        {% csrf_token %}
        
        <div class="form-group">
            <label for="title">Title</label>
            <input type="text" name="title" id="title" required autofocus>
        </div>
        
        <div class="form-group">
            <label for="people">People (@mentions, comma-separated)</label>
            <input type="text" name="people" id="people" placeholder="@john, @jane">
        </div>
        
        <div class="form-group">
            <label for="labels">Labels (comma-separated)</label>
            <input type="text" name="labels" id="labels" placeholder="meeting, brainstorm">
        </div>
        
        <div class="form-group">
            <label for="content">Content (markdown)</label>
            <textarea name="content" id="content"></textarea>
        </div>
        
        <div class="form-actions">
            <button type="submit">Create Note</button>
            <a href="{% url 'notes_list' %}" class="button button-secondary">Cancel</a>
        </div>
    </form>
</div>

{% endblock %}

{% block scripts %}
<script>
    var contentTextarea = document.getElementById('content');
    if (contentTextarea) {
        var editor = new EasyMDE({
            element: contentTextarea,
            spellChecker: false,
            toolbar: ['bold', 'italic', 'heading', '|', 'quote', 'unordered-list', 'ordered-list', '|', 'link', 'image', '|', 'code', 'table', '|', 'preview', 'side-by-side', 'fullscreen', '|', 'guide']
        });
    }
</script>
{% endblock %}
